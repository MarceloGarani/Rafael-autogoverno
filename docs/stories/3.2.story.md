# Story 3.2: Mentee List & Status

**Epic:** 3 â€” Mentor Dashboard & Mentee Management
**Status:** Draft
**Priority:** High
**Story Type:** Frontend + API

---

## Executor Assignment

executor: "@dev"
quality_gate: "@architect"
quality_gate_tools: ["architecture-review", "code-standards"]

---

## Story Statement

> As a mentor,
> I want to see all my mentees with their current engagement status,
> so that I can prioritize who to follow up with.

---

## Acceptance Criteria

- [ ] **AC1:** Rota `/dashboard/mentees` com lista de todos os mentorados
- [ ] **AC2:** Cada mentorado exibe: avatar/iniciais, nome, data do Ãºltimo registro, streak atual, intensidade mÃ©dia da semana
- [ ] **AC3:** Status visual: ðŸŸ¢ ativo (registrou nos Ãºltimos 2 dias), ðŸŸ¡ ausente (3-5 dias), ðŸ”´ inativo (5+ dias)
- [ ] **AC4:** Busca por nome funcional
- [ ] **AC5:** Filtro por status (ativo/ausente/inativo)
- [ ] **AC6:** OrdenaÃ§Ã£o padrÃ£o: inativos primeiro (maior urgÃªncia)
- [ ] **AC7:** Click em mentorado navega para perfil individual (`/dashboard/mentees/{id}`)
- [ ] **AC8:** API Route (`GET /api/dashboard/mentees`) com dados agregados por mentorado

---

## Dev Notes

### Wireframe â€” Mentee List
[Source: docs/architecture/wireframes-mvp-phase1.md#11-mentee-list]
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SIDEBAR   â”‚  Mentorados                          â”‚
â”‚            â”‚                                      â”‚
â”‚            â”‚  ðŸ” Buscar por nome...                â”‚
â”‚            â”‚  [Todos â–¼] [Ativo â–¼] [Ausente â–¼]     â”‚
â”‚            â”‚                                      â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚            â”‚  â”‚ ðŸ”´ JS  JoÃ£o Silva                â”‚ â”‚
â”‚            â”‚  â”‚    Ãšltimo: 22 fev Â· ðŸ”¥ 0 dias     â”‚ â”‚
â”‚            â”‚  â”‚    Intensidade mÃ©dia: 7.2         â”‚ â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚                                      â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚            â”‚  â”‚ ðŸŸ¡ MS  Maria Santos              â”‚ â”‚
â”‚            â”‚  â”‚    Ãšltimo: 24 fev Â· ðŸ”¥ 3 dias     â”‚ â”‚
â”‚            â”‚  â”‚    Intensidade mÃ©dia: 5.8         â”‚ â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚                                      â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚            â”‚  â”‚ ðŸŸ¢ AP  Ana Pereira               â”‚ â”‚
â”‚            â”‚  â”‚    Ãšltimo: 27 fev Â· ðŸ”¥ 12 dias    â”‚ â”‚
â”‚            â”‚  â”‚    Intensidade mÃ©dia: 6.1         â”‚ â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Status Logic
- ðŸŸ¢ Active: last entry â‰¤ 2 days ago
- ðŸŸ¡ Absent: last entry 3-5 days ago
- ðŸ”´ Inactive: last entry > 5 days ago (or never)

### API Endpoint
[Source: docs/architecture.md#api-specification]
- `GET /api/dashboard/mentees` â€” Auth: Mentor only
- Returns per mentee: `{ id, name, email, last_entry_date, streak, avg_intensity_week, status }`
- Aggregated server-side, excludes mentor's own data

### Component Specs
[Source: docs/architecture.md#components]
- Mentee Management: `MenteeList`, `MenteeCard`
- Data: React Query for caching and filtering

### File Locations
- Page: `packages/web/src/app/(mentor)/dashboard/mentees/page.tsx`
- API Route: `packages/web/src/app/api/dashboard/mentees/route.ts`
- Components: `packages/web/src/components/dashboard/` â€” MenteeList.tsx, MenteeCard.tsx, MenteeSearch.tsx, StatusFilter.tsx

---

## Tasks / Subtasks

- [ ] **Task 1** (AC: 8): Create API Route `GET /api/dashboard/mentees` â€” query all mentees with aggregated data (last entry date, streak, avg intensity this week, computed status)
- [ ] **Task 2** (AC: 3): Implement status computation logic â€” green/yellow/red based on days since last entry
- [ ] **Task 3** (AC: 2): Create `MenteeCard` component â€” avatar (initials circle), name, last entry date, streak counter, avg intensity, status indicator (colored dot)
- [ ] **Task 4** (AC: 1): Create `MenteeList` component â€” renders list of MenteeCards
- [ ] **Task 5** (AC: 4): Create search input â€” client-side filter by name
- [ ] **Task 6** (AC: 5): Create status filter chips â€” All, Ativo, Ausente, Inativo
- [ ] **Task 7** (AC: 6): Implement default sort â€” inactives first (ðŸ”´ â†’ ðŸŸ¡ â†’ ðŸŸ¢), then by days since last entry DESC
- [ ] **Task 8** (AC: 7): Add click handler on MenteeCard â€” navigate to `/dashboard/mentees/{id}`
- [ ] **Task 9**: Write unit tests for status logic, search, and filter

---

## CodeRabbit Integration

> **CodeRabbit Integration**: Disabled

---

## File List

_To be updated during implementation._

---

## Dev Agent Record

_To be filled by @dev during implementation._

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-27 | 1.0 | Story drafted | @sm |

---

## QA Results

_To be filled by @qa during review._
