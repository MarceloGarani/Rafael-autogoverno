# Story 1.4: Base Layout & Navigation

**Epic:** 1 ‚Äî Foundation & Authentication
**Status:** Draft
**Priority:** Critical Path
**Story Type:** Frontend

---

## Executor Assignment

executor: "@dev"
quality_gate: "@architect"
quality_gate_tools: ["architecture-review", "code-standards"]

---

## Story Statement

> As a user,
> I want a consistent, dark-themed layout with proper navigation,
> so that I can move through the app intuitively.

---

## Acceptance Criteria

- [ ] **AC1:** Layout base com dark mode (fundo #000, texto branco, destaques #E53935)
- [ ] **AC2:** Mentorado: Bottom navigation mobile com itens: Home, Hist√≥rico, Progresso, Perfil
- [ ] **AC3:** Mentor: Sidebar navigation desktop com itens: Vis√£o Geral, Mentorados, Insights, Meu Di√°rio, Configura√ß√µes
- [ ] **AC4:** Layout responsivo ‚Äî mobile layout para telas <768px, desktop layout para ‚â•1024px
- [ ] **AC5:** Componente `Header` com nome do app e avatar/nome do usu√°rio
- [ ] **AC6:** Tipografia sans-serif configurada (Inter ou Geist via next/font)
- [ ] **AC7:** Toggle/menu para mentor alternar entre "Dashboard Mentor" e "Meu Di√°rio"
- [ ] **AC8:** Navega√ß√£o renderiza corretamente baseada no role do usu√°rio (mentee vs mentor)

---

## Dev Notes

### Layout Groups
[Source: docs/architecture.md#frontend-architecture]
- `(auth)/` ‚Äî Auth pages, no navigation
- `(mentee)/` ‚Äî Mentee layout with bottom nav
- `(mentor)/` ‚Äî Mentor layout with sidebar

### Wireframe ‚Äî Mentee Bottom Nav
[Source: docs/architecture/wireframes-mvp-phase1.md#3-mentee-home]
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üè† Home  üìã Hist  üìà Prog  üë§ ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
- Fixed bottom, bg #212121, active item highlighted with #E53935

### Wireframe ‚Äî Mentor Sidebar
[Source: docs/architecture/wireframes-mvp-phase1.md#10-mentor-dashboard]
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SIDEBAR   ‚îÇ                             ‚îÇ
‚îÇ  240px     ‚îÇ     CONTENT AREA            ‚îÇ
‚îÇ            ‚îÇ                             ‚îÇ
‚îÇ  Vis√£o     ‚îÇ                             ‚îÇ
‚îÇ  Geral     ‚îÇ                             ‚îÇ
‚îÇ            ‚îÇ                             ‚îÇ
‚îÇ  Mentorados‚îÇ                             ‚îÇ
‚îÇ  Insights  ‚îÇ                             ‚îÇ
‚îÇ            ‚îÇ                             ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ                             ‚îÇ
‚îÇ  Meu Di√°rio‚îÇ                             ‚îÇ
‚îÇ  Config    ‚îÇ                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
- Sidebar: 240px, bg #000, border-right #212121
- "Meu Di√°rio" separated by divider ‚Äî switches to mentee experience

### Wireframe ‚Äî Mentor Switch
[Source: docs/architecture/wireframes-mvp-phase1.md#12-mentor-switch]
- In mentor sidebar: "Meu Di√°rio" item below divider
- In mentee mode (when user is mentor): floating "Voltar ao Dashboard" button, top-right, bg #212121

### Component Specs
[Source: docs/architecture.md#components]
- Mentor Dashboard Shell: `DashboardLayout`, `Sidebar`, `MentorPractitionerSwitch`
- Server Component for layout, Client Component for toggle

### State Management
[Source: docs/architecture.md#state-management]
```typescript
mentorMode: 'dashboard' | 'diary';
setMentorMode: (mode: 'dashboard' | 'diary') => void;
```

### Design System
[Source: docs/architecture/design-system.md]
- Font: Inter via `next/font/google`
- Spacing: 4px base unit
- Breakpoints: sm 640px, md 768px, lg 1024px, xl 1280px
- Surface colors: bg-primary (#000), bg-surface (#212121), bg-surface-hover (#424242)

### File Locations
- Root layout: `packages/web/src/app/layout.tsx`
- Mentee layout: `packages/web/src/app/(mentee)/layout.tsx`
- Mentor layout: `packages/web/src/app/(mentor)/layout.tsx`
- Components: `packages/web/src/components/layout/` ‚Äî Sidebar.tsx, BottomNav.tsx, Header.tsx, MentorSwitch.tsx

---

## Tasks / Subtasks

- [ ] **Task 1** (AC: 1, 6): Create root layout with dark mode (bg-black, text-white), Inter font, global providers (auth, query client)
- [ ] **Task 2** (AC: 2, 4): Create mentee layout at `(mentee)/layout.tsx` with bottom navigation ‚Äî Home, Hist√≥rico, Progresso, Perfil ‚Äî mobile-first
- [ ] **Task 3** (AC: 3, 4): Create mentor layout at `(mentor)/layout.tsx` with sidebar navigation ‚Äî 240px, items: Vis√£o Geral, Mentorados, Insights, Meu Di√°rio, Configura√ß√µes
- [ ] **Task 4** (AC: 5): Create Header component with app name and user avatar/name
- [ ] **Task 5** (AC: 2): Create BottomNav component ‚Äî fixed bottom, bg #212121, active item #E53935
- [ ] **Task 6** (AC: 3): Create Sidebar component ‚Äî fixed left 240px, bg #000, border-right #212121, divider before "Meu Di√°rio"
- [ ] **Task 7** (AC: 7): Create MentorSwitch component ‚Äî toggle between dashboard and diary mode using Zustand state
- [ ] **Task 8** (AC: 8): Implement role-based layout selection ‚Äî mentee ‚Üí bottom nav layout, mentor ‚Üí sidebar layout (or diary layout when in "Meu Di√°rio" mode)
- [ ] **Task 9** (AC: 4): Ensure responsive behavior ‚Äî bottom nav visible only on mobile, sidebar on desktop
- [ ] **Task 10**: Write unit tests for navigation components and role-based rendering

---

## CodeRabbit Integration

> **CodeRabbit Integration**: Disabled

---

## File List

_To be updated during implementation._

---

## Dev Agent Record

_To be filled by @dev during implementation._

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-27 | 1.0 | Story drafted | @sm |

---

## QA Results

_To be filled by @qa during review._
