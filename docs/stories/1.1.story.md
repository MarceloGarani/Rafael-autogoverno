# Story 1.1: Project Scaffolding & Configuration

**Epic:** 1 — Foundation & Authentication
**Status:** Draft
**Priority:** Critical Path
**Story Type:** Deployment/Infrastructure

---

## Executor Assignment

executor: "@dev"
quality_gate: "@architect"
quality_gate_tools: ["architecture-review", "code-standards"]

---

## Story Statement

> As a developer,
> I want to scaffold the Next.js project with all required dependencies and configurations,
> so that the team has a solid foundation to build upon.

---

## Acceptance Criteria

- [ ] **AC1:** Next.js 14+ project initialized with App Router, TypeScript, Tailwind CSS, e ESLint configurados
- [ ] **AC2:** Estrutura de pastas em `packages/web/` conforme convenção AIOS (app/, components/, lib/, types/)
- [ ] **AC3:** Absolute imports com `@/` alias configurados no `tsconfig.json`
- [ ] **AC4:** Dependencies instaladas: `@supabase/supabase-js`, `@supabase/ssr`, `zustand`, `recharts`, `@anthropic-ai/sdk`, `@tanstack/react-query`
- [ ] **AC5:** Arquivo `.env.local.example` com todas as variáveis necessárias (NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE_KEY, ANTHROPIC_API_KEY)
- [ ] **AC6:** Scripts npm configurados: `dev`, `build`, `lint`, `typecheck`, `test`
- [ ] **AC7:** Tailwind configurado com paleta customizada: preto (#000000), vermelho (#E53935), branco (#FFFFFF)
- [ ] **AC8:** Dark mode habilitado como padrão no Tailwind (class strategy)
- [ ] **AC9:** `npm run build` completa sem erros
- [ ] **AC10:** `npm run lint` passa sem warnings

---

## Dev Notes

### Tech Stack
[Source: docs/architecture.md#tech-stack]
- Frontend Framework: Next.js 14+ with App Router, React 18+, TypeScript 5.x
- UI Component Library: shadcn/ui (copy-paste, not dependency)
- State Management: Zustand 4.x (UI state) + React Query 5.x (server state)
- Styling: Tailwind CSS 3.x
- Charts: Recharts 2.x
- Testing: Jest 29.x + React Testing Library 14.x
- Linting: ESLint 8.x + Prettier 3.x

### Project Structure
[Source: docs/architecture.md#frontend-architecture]
```
packages/web/src/
├── app/                          # Next.js App Router
│   ├── (auth)/                   # Auth group
│   ├── (mentee)/                 # Mentee layout group
│   ├── (mentor)/                 # Mentor layout group
│   ├── api/                      # Route Handlers
│   ├── layout.tsx                # Root layout
│   └── globals.css
├── components/
│   ├── ui/                       # shadcn/ui components
│   ├── auth/
│   ├── entry/
│   ├── reflection/
│   ├── history/
│   ├── progress/
│   ├── dashboard/
│   ├── briefing/
│   └── layout/
├── hooks/
├── lib/
│   ├── supabase/
│   ├── ai/
│   ├── services/
│   ├── db/
│   └── utils/
├── types/
└── styles/
```

### Design System Tokens
[Source: docs/architecture/design-system.md#color-system]
- Core palette: Black (#000000), White (#FFFFFF), Red (#E53935)
- Neutrals: 900 (#212121), 800 (#424242), 700 (#616161), 600 (#757575), 500 (#9E9E9E)
- Status: Success (#4CAF50), Warning (#FFC107), Danger (#E53935), Info (#2196F3)
- Typography: Inter (sans-serif) via next/font
- Dark mode only for MVP (class strategy)

### Dependencies List
[Source: docs/architecture.md#tech-stack]
```json
{
  "dependencies": {
    "next": "^14",
    "react": "^18",
    "react-dom": "^18",
    "@supabase/supabase-js": "^2",
    "@supabase/ssr": "^0.5",
    "zustand": "^4",
    "@tanstack/react-query": "^5",
    "recharts": "^2",
    "@anthropic-ai/sdk": "latest",
    "tailwindcss": "^3",
    "class-variance-authority": "latest",
    "clsx": "latest",
    "tailwind-merge": "latest"
  },
  "devDependencies": {
    "typescript": "^5",
    "@types/react": "^18",
    "@types/node": "^20",
    "eslint": "^8",
    "eslint-config-next": "^14",
    "prettier": "^3",
    "jest": "^29",
    "@testing-library/react": "^14",
    "@testing-library/jest-dom": "^6"
  }
}
```

### Environment Variables
[Source: docs/architecture.md#external-apis]
```
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
ANTHROPIC_API_KEY=
RESEND_API_KEY=
```

---

## Tasks / Subtasks

- [ ] **Task 1** (AC: 1): Initialize Next.js 14+ project with `create-next-app` inside `packages/web/` with App Router, TypeScript, Tailwind CSS, ESLint
- [ ] **Task 2** (AC: 2): Create directory structure: `src/app/`, `src/components/ui/`, `src/components/auth/`, `src/components/entry/`, `src/components/reflection/`, `src/components/history/`, `src/components/progress/`, `src/components/dashboard/`, `src/components/briefing/`, `src/components/layout/`, `src/hooks/`, `src/lib/supabase/`, `src/lib/ai/`, `src/lib/services/`, `src/lib/db/`, `src/lib/utils/`, `src/types/`, `src/styles/`
- [ ] **Task 3** (AC: 3): Configure `@/` absolute import alias in `tsconfig.json` → `"paths": { "@/*": ["./src/*"] }`
- [ ] **Task 4** (AC: 4): Install all production and dev dependencies listed in Dev Notes
- [ ] **Task 5** (AC: 5): Create `.env.local.example` with all required environment variables
- [ ] **Task 6** (AC: 6): Configure npm scripts: `dev`, `build`, `lint`, `typecheck` (`tsc --noEmit`), `test` (Jest), `test:unit`, `test:integration`
- [ ] **Task 7** (AC: 7, 8): Configure Tailwind with custom palette (black, red #E53935, white, neutrals, status colors) and dark mode with `class` strategy
- [ ] **Task 8** (AC: 7): Create `globals.css` with Tailwind directives and base dark mode styles (body bg-black, text-white)
- [ ] **Task 9** (AC: 1): Configure Inter font via `next/font/google` in root layout
- [ ] **Task 10** (AC: 1): Setup shadcn/ui with `components.json` configuration
- [ ] **Task 11** (AC: 9): Verify `npm run build` completes without errors
- [ ] **Task 12** (AC: 10): Verify `npm run lint` passes without warnings
- [ ] **Task 13**: Configure Jest with `jest.config.ts` for React Testing Library

---

## CodeRabbit Integration

> **CodeRabbit Integration**: Disabled
>
> CodeRabbit CLI is not enabled in `core-config.yaml`.
> Quality validation will use manual review process only.
> To enable, set `coderabbit_integration.enabled: true` in core-config.yaml

---

## File List

_To be updated during implementation._

---

## Dev Agent Record

_To be filled by @dev during implementation._

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-27 | 1.0 | Story drafted | @sm |

---

## QA Results

_To be filled by @qa during review._
